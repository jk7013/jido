## 🧠 jido 프로젝트 개요 및 기능 정의

### 🎯 프로젝트 개요

**jido**는 LLM 및 RAG 기반 서비스 개발 과정에서 발생하는 **프롬프트 관리, 평가, A/B 테스트, 실행 로그, 버전 히스토리**를 하나의 통합된 플랫폼에서 관리하기 위한 **내부 PromptOps 시스템**이다.

현재 기업 내에서는 프롬프트 실험, 평가, 로그 수집이 여러 시스템(LLM 엔진, MLflow, GitLab, 검색엔진 등)에 분산되어 있어, 개발자가 실험과 개선을 체계적으로 반복하기 어렵다. jido는 이러한 워크플로우를 통합하여 **RAG 서비스 품질 향상과 개발 효율화**를 목표로 한다.

---

### 🧩 주요 목표

- **프롬프트 버전 관리**: GitLab과 연동하여 버전별 프롬프트를 추적 및 복원 가능하게 함.
- **A/B 테스트**: 동일한 입력에 대해 서로 다른 프롬프트/모델 결과를 비교하고 평가 점수화.
- **평가 자동화 (Evaluation Loop)**: RAGAS 또는 휴리스틱/LLM기반 평가로 자동 점수 계산.
- **로그 통합 관리**: 프롬프트 실행, 응답, 지표, 실행시간, 비용 등의 로그를 중앙 관리.
- **히스토리 뷰어**: 날짜, 버전, 프롬프트별 결과 비교 및 성능 추이 시각화.
- **배치 실행 (Batch Run)**: 다수의 프롬프트/테스트셋을 주기적으로 실행 및 평가 (향후 버전).

---

### ⚙️ 주요 기능 구성

| 구분                    | 기능명                          | 설명                                                       |
| ----------------------- | ------------------------------- | ---------------------------------------------------------- |
| **Prompt Management**   | 프롬프트 CRUD / GitLab 연동     | 프롬프트 생성·수정·버전관리 / GitLab 동기화                |
| **Execution Engine**    | 단일 및 배치 실행               | 프롬프트를 단일 또는 다중 입력에 대해 실행 및 결과 저장    |
| **Evaluation**          | RAGAS / LLM Grader / 휴리스틱   | 정답 데이터셋 기반 자동 평가 및 LLM 기반 품질 평가         |
| **History & Logs**      | 실행 히스토리 / 로그 뷰어       | 실행 이력, 결과, 지표를 시간축 기반으로 조회               |
| **Dashboard**           | 실험 결과 대시보드              | 프롬프트/모델/지표별 시각화, 비교 탭, A/B 테스트 결과 표시 |
| **Batch Runner (예정)** | 주기적 평가 배치                | 스케줄러 기반 전체 프롬프트 재평가 및 통계 생성            |
| **Integration (예정)**  | MLflow / GitLab / 내부 검색엔진 | 로그, 메트릭, 평가결과를 외부 시스템과 동기화              |

---

### 🔄 데이터 흐름 요약

```
사용자 입력 → Prompt API 호출 → LLM 실행 (executor.py)
→ 결과 저장 (DB + MLflow) → evaluator.py에서 자동 평가 → 결과 반환 및 저장
→ History/Log View에서 실행 이력 및 점수 조회
```

---

### 🧱 기술 스택

| 영역             | 기술                                | 설명                              |
| ---------------- | ----------------------------------- | --------------------------------- |
| Backend          | **FastAPI**                         | REST API 서버 및 배치 트리거 관리 |
| Frontend         | **React + Vite + TypeScript**       | 대시보드 및 결과 시각화           |
| Database         | **SQLite → PostgreSQL (향후 전환)** | 메타데이터 및 실행 결과 저장      |
| Evaluation       | **RAGAS / LLM Grader**              | 응답 품질 평가 및 메트릭 계산     |
| Logging          | **MLflow / 내부 DB**                | 실험 로그, 메트릭 기록 및 추적    |
| Integration      | **GitLab API**                      | 프롬프트 버전 관리 및 코드 동기화 |
| Scheduler (예정) | **APScheduler / Celery**            | 주기적 배치 실행                  |

---

### 🧮 향후 확장 로드맵 (버전별)

| 버전     | 주요 기능                       | 상세 내용                                                |
| -------- | ------------------------------- | -------------------------------------------------------- |
| **v1.0** | 기본 구조 및 단일 프롬프트 실행 | FastAPI + React + SQLite, 프롬프트 CRUD + 실행 로그 저장 |
| **v1.1** | 평가 모듈 추가                  | RAGAS 및 LLM Grader 연동, 평가점수 표시                  |
| **v1.2** | A/B 테스트 및 비교 뷰           | 동일 입력에 대한 프롬프트 비교 UI 추가                   |
| **v2.0** | 배치 및 스케줄러                | 주기적 실행, MLflow 연동, 결과 자동 업데이트             |
| **v3.0** | 통합 Dashboard 및 API 오픈      | 실험결과 공유 및 사내 API 통합                           |

---

### 💡 핵심 가치

1. **반복 가능한 실험 루프** 구축 → 프롬프트 개선 사이클 단축
2. **버전 기반 관리체계** 확보 → 실험 이력 및 재현성 강화
3. **평가 자동화 및 시각화** → 객관적 품질 측정 가능
4. **사내 재사용성 확보** → RAG/LLM 프로젝트 전반에 공통 인프라로 확장

---

> ⚡ 커서 주의사항: 이 프로젝트는 단순한 프롬프트 실행 툴이 아니라,
> **프롬프트 버전 관리 + 평가 자동화 + 히스토리화**를 통합 관리하는 시스템이다.
> 현재는 v1으로 시작하지만, 구조는 반드시 v2~v3 확장을 고려하여 설계해야 한다.
