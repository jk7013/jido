:root {
    --bg: #0B1220;
    --panel: #121826;
    --muted: #1B2333;
    --text: #E6F2FF;
    --sub: #7E8DA4;
    --accent: #8BE9FD;
    --good: #3EEBAA;
    --warn: #FFC857;
    --bad: #FF6B6B;
  }
  
  /* 기본 레이아웃 */
  * { box-sizing: border-box; }
  
  body {
    margin: 0;
    background: var(--bg);
    color: var(--text);
    font: 14px/1.5 "Fira Code", "Noto Sans KR", monospace;
  }
  
  header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: var(--panel);
    padding: 16px 22px;
    border-bottom: 1px solid var(--muted);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    position: sticky;
    top: 0;
    z-index: 100;
    width: 100%;
    box-sizing: border-box;
  }
  
  header h1 {
    font-size: 18px;
    margin: 0;
    color: var(--text);
  }

  header .right {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: nowrap;
    white-space: nowrap;
    flex-shrink: 0;
  }

  .top-menu {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .top-menu button {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    font-size: 13px;
    padding: 6px 12px;
  }


  /* 로그뷰 전용 돌아가기 바 */
  .return-bar {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    background: var(--panel);
    border-bottom: 1px solid var(--muted);
    padding: 10px 20px;
  }

  /* 페이지별 보조 컨트롤 */
  .dashboard-controls,
  .result-controls {
    padding: 12px 22px;
    border-bottom: 1px solid var(--muted);
    background: var(--panel);
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .dashboard-controls h2,
  .result-controls h2 {
    font-size: 16px;
    margin: 0;
    color: var(--text);
    font-weight: 600;
  }

  .dashboard-controls .right,
  .result-controls .right {
    display: flex;
    align-items: center;
    gap: 8px;
    justify-content: flex-end;
  }
  
  /* 토글 스위치 */
  .toggle-container {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 16px;
  }
  
  .toggle-switch {
    position: relative;
    width: 40px;
    height: 18px;
    background: #1a4a66;
    border: 1px solid var(--accent);
    border-radius: 9px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 0 8px rgba(80, 227, 194, 0.3);
  }
  
  .toggle-switch.active {
    background: #1a4a66;
    border-color: var(--accent);
    box-shadow: 0 0 8px rgba(80, 227, 194, 0.3);
  }
  
  .toggle-slider {
    position: absolute;
    top: 1px;
    left: 1px;
    width: 14px;
    height: 14px;
    background: var(--accent);
    border-radius: 50%;
    transition: all 0.3s ease;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3), 0 0 6px rgba(80, 227, 194, 0.5);
  }
  
  .toggle-switch.active .toggle-slider {
    transform: translateX(20px);
    background: var(--accent);
    box-shadow: 0 0 6px rgba(80, 227, 194, 0.5);
  }
  
  .toggle-label {
    font-size: 12px;
    color: var(--sub);
    font-weight: 500;
  }
  
  /* 패널 */
  .wrap {
    display: grid;
    grid-template-columns: 1.1fr 1fr;
    gap: 14px;
    padding: 16px;
  }
  
  .panel {
    background: var(--panel);
    border: 1px solid var(--muted);
    border-radius: 10px;
    box-shadow: 0 1px 0 #0002;
  }
  
  .panel h2 {
    margin: 0;
    padding: 12px 14px;
    border-bottom: 1px solid var(--muted);
    font-size: 14px;
    color: #c9d4e3;
  }
  
  .content { padding: 14px; }
  
  /* 입력 필드 */
  label {
    display: block;
    margin: 8px 0 6px;
    color: var(--sub);
    font-size: 12px;
  }
  
  input[type="text"],
  textarea,
  select {
    width: 100%;
    background: #111623;
    color: var(--text);
    border: 1px solid #2a3042;
    border-radius: 8px;
    padding: 10px 12px;
    outline: none;
    transition: border-color 0.25s ease, box-shadow 0.25s ease;
  }
  
  input:focus,
  textarea:focus,
  select:focus {
    border-color: var(--accent);
    box-shadow: 0 0 6px rgba(139, 233, 253, 0.3);
  }
  
  textarea {
    min-height: 84px;
    resize: vertical;
  }
  
  /* 프롬프트 입력 */
  .prompt-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    transition: all 0.3s ease;
  }
  
  .single-mode .prompt-row { grid-template-columns: 1fr; }
  .single-mode .prompt-b-container { display: none; }
  
  /* 실행 컨트롤 라인 */
  .exec-controls {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 14px;
    gap: 10px;
  }



  /* 배지/칩 통일 */
  .pill {
    line-height: 22px;
    height: 22px;
    padding: 0 8px;
    font-size: 12px;
  }

  /* 폼 수직 리듬 정렬 */
  label { 
    margin: 8px 0 6px; 
  }
  input[type=text], textarea, select { 
    margin-top: 0; 
  }
  .form-row + .form-row { 
    margin-top: 12px; 
  }

  /* 카드 헤더 대비 강화 */
  .panel > header { 
    border-bottom: 1px solid #263046; 
  }

  /* 결과보기 상단 줄바꿈 방지 */
  .result-view header .right { 
    flex-wrap: nowrap; 
    gap: 8px; 
  }
  .result-view header select { 
    min-width: 300px; 
  }
  .result-view header input[type=range] { 
    width: 120px; 
  }

  /* 내부 패딩 통일 */
  .panel .content { 
    padding: 14px 14px 18px; 
  }

  /* 탭 접근성 강화 */
  .tabs button {
    padding: 8px 12px;
    border-radius: 8px;
    outline: 0;
  }
  .tabs button:focus-visible {
    box-shadow: 0 0 0 2px rgba(139,233,253,.35);
  }
  .tabs button[aria-selected="true"] {
    background: #141b2a;
    border: 1px solid #2a3550;
  }

  /* 포커스/키보드 내비게이션 개선 */
  button:focus-visible, .toggle-switch:focus-visible {
    outline: 0;
    box-shadow: 0 0 0 2px rgba(139,233,253,.35);
  }

  /* 빈 상태(Empty state) 메시지 통일 */
  .empty {
    color: #9fb0c8;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .empty::before {
    content: "•";
    color: var(--accent);
    font-size: 18px;
  }

  /* JSON 코드블럭 UX 개선 */
  pre { 
    position: relative; 
  }
  pre button.ghost { 
    position: absolute; 
    top: 6px; 
    right: 6px; 
  }

  /* 버튼 */
  button {
    background: linear-gradient(180deg, #1a1f2b 0%, #0d111a 100%);
    border: 1px solid #27324a;
    color: #eaf6ff;
    font-weight: 600;
    padding: 7px 12px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 13px;
    transition: all 0.25s ease;
    box-shadow: 0 0 6px rgba(0, 0, 0, 0.4);
  }
  
  button:hover {
    background: linear-gradient(180deg, #1f2736 0%, #141924 100%);
    border-color: #4ab9d8;
    color: #b7ecff;
    box-shadow: 0 0 10px rgba(139, 233, 253, 0.25);
    transform: translateY(-1px);
  }
  
  button:active {
    background: linear-gradient(180deg, #121620 0%, #0b0f18 100%);
    box-shadow: 0 0 6px rgba(139, 233, 253, 0.2);
    transform: translateY(0);
  }
  
  button.ghost {
    background: transparent;
    color: #8BE9FD;
    border: 1px solid #2f3a55;
    font-weight: 500;
    padding: 6px 11px;
    transition: all 0.25s ease;
  }
  
  button.ghost:hover {
    background: linear-gradient(180deg, rgba(20, 30, 40, 0.8), rgba(15, 20, 30, 0.95));
    border-color: #8BE9FD;
    color: #c8f5ff;
    box-shadow: 0 0 8px rgba(139, 233, 253, 0.25);
  }
  
  /* 카드, 테이블, 기타 */
  .card {
    background: #101524;
    border: 1px solid #21263a;
    border-radius: 10px;
    padding: 12px;
  }
  
  .table, th, td {
    border-bottom: 1px solid #23304b;
  }
  
  .bar {
    height: 8px;
    background: #1a2133;
    border-radius: 6px;
    overflow: hidden;
  }
  
  .bar > span {
    display: block;
    height: 100%;
    background: linear-gradient(90deg, #00B3FF, #8BE9FD);
  }
  
  footer {
    padding: 10px 16px;
    border-top: 1px solid var(--muted);
    color: #a8b4c9;
    font-size: 12px;
  }
  
  /* ▼▼▼ 추가: 실행 로그 & 집계 테이블 복원용 ▼▼▼ */

/* 프롬프트 카드와 로그 테이블 간 간격 */
.cards {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    transition: all 0.3s ease;
  }
  .single-mode .cards { grid-template-columns: 1fr; }
  .single-mode .card-b { display: none; }
  
  .similarity-section {
    margin-top: 10px;
    transition: all 0.3s ease;
  }
  .single-mode .similarity-section { display: none; }
  
  /* 코드 출력 박스 */
  pre {
    white-space: pre-wrap;
    word-break: break-word;
    background: #0e1320;
    border: 1px solid #21263a;
    padding: 10px;
    border-radius: 8px;
    max-height: 220px;
    overflow: auto;
  }
  
  /* 로그/집계 테이블 */
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 8px;
  }
  th, td {
    border-bottom: 1px solid #23304b;
    padding: 8px 10px;
    text-align: left;
    font-size: 13px;
  }
  th {
    color: #cbd6ea;
    font-weight: 600;
    background: #13192a;
    position: sticky;
    top: 0;
  }
  .metric { font-variant-numeric: tabular-nums; }
  
  /* 집계 카드 */
  .card {
    background: #101524;
    border: 1px solid #21263a;
    border-radius: 10px;
    padding: 12px;
  }
  
  /* pill 색상 */
  .pill { padding: 2px 8px; border-radius: 999px; font-size: 12px; display: inline-block; }
  .ok  { background: #0f2b22; border: 1px solid #1b6f52; color: #98ffd1; }
  .meh { background: #2b260f; border: 1px solid #6f5e1b; color: #ffe398; }
  .bad { background: #2b0f12; border: 1px solid #6f1b1b; color: #ffb0b0; }
  
  /* 하단 전체 폭 */
  .panel[style*="grid-column: 1 / -1"] {
    grid-column: 1 / -1;
  }
  
  /* A/B 대시보드 패널 균형 유지 */
.wrap {
    display: grid;
    grid-template-columns: 1.1fr 1fr; /* 항상 동일 비율 유지 */
    gap: 14px;
    padding: 16px;
    align-items: start;
  }
  
  /* 싱글 모드에서도 패널 비율 유지 (단, 내부만 축소) */
  .single-mode .wrap {
    grid-template-columns: 1.1fr 1fr; /* 변경 없음 */
  }
  
  html {
    overflow-y: scroll; /* 스크롤바 항상 표시 → 폭 흔들림 방지 */
  }
  
 /* ---------- Result View 레이아웃 교정 ---------- */

/* 헤더 오른쪽 버튼 영역 (전역 영향 無) */
body.result-view header .right {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
  }
  
  /* 결과 패널 두 개를 전체 너비로 균등 배치 */
  body.result-view .wrap {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 14px;
    padding: 16px;
    width: 100%;
    box-sizing: border-box;
  }
  
  /* 패널 안의 콘텐츠는 가득 차도록 */
  body.result-view .panel {
    flex: 1;
    width: 100%;
  }
  
  /* 반응형 (좁은 화면일 때 세로 전환) */
  @media (max-width: 1100px) {
    body.result-view .wrap {
      grid-template-columns: 1fr;
    }
  }
  
  /* range input 시각 보정 */
  body.result-view input[type="range"] {
    accent-color: var(--accent);
    cursor: pointer;
  }
  

  /* ---------- Result View 통일형 레이아웃 ---------- */
body.result-view header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px;
    border-bottom: 1px solid var(--muted);
  }
  
  body.result-view header h1 {
    font-size: 16px;
    color: var(--text);
    margin: 0;
  }
  
  body.result-view header .right {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
  }
  
  body.result-view .wrap {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 14px;
    padding: 16px;
    width: 100%;
    box-sizing: border-box;
  }
  
  body.result-view .panel {
    background: var(--panel);
    border: 1px solid var(--muted);
    border-radius: 10px;
    padding: 12px;
    box-shadow: 0 1px 0 #0002;
  }
  
  @media (max-width: 1100px) {
    body.result-view .wrap {
      grid-template-columns: 1fr;
    }
  }

  /* GitLab 커밋 다이얼로그 스타일 */
  .dialog-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.6);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    opacity: 0;
    transition: opacity 0.2s ease;
  }

  .dialog-overlay.show {
    opacity: 1;
  }

  .dialog-content {
    background: var(--panel);
    border: 1px solid var(--muted);
    border-radius: 12px;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.1);
    max-width: 480px;
    width: 90%;
    max-height: 90vh;
    overflow-y: auto;
    transform: scale(0.95);
    transition: transform 0.2s ease;
  }

  .dialog-overlay.show .dialog-content {
    transform: scale(1);
  }

  .dialog-header {
    padding: 24px 24px 16px;
    border-bottom: 1px solid var(--muted);
  }

  .dialog-title {
    font-size: 18px;
    font-weight: 600;
    color: var(--text);
    margin: 0 0 8px 0;
  }

  .dialog-description {
    font-size: 14px;
    color: var(--sub);
    margin: 0;
    line-height: 1.5;
  }

  .dialog-body {
    padding: 24px;
  }

  .form-group {
    margin-bottom: 24px;
  }

  .form-group label {
    display: block;
    font-size: 12px;
    font-weight: 500;
    color: var(--sub);
    margin-bottom: 4px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .form-input,
  .form-textarea {
    width: 100%;
    padding: 14px 16px;
    background: #2A2E36;
    border: 1px solid var(--muted);
    border-radius: 8px;
    color: #E6F2FF;
    font-size: 14px;
    font-family: inherit;
    line-height: 1.4;
    transition: all 0.15s ease-in-out;
  }

  .form-input:focus,
  .form-textarea:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(139, 233, 253, 0.15);
    background: #2A2E36;
  }

  .form-textarea {
    resize: vertical;
    min-height: 80px;
  }

  .branch-info {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 16px;
    background: rgba(27, 35, 51, 0.5);
    border-radius: 8px;
    font-size: 14px;
    margin-top: 16px;
  }

  .branch-label {
    color: var(--sub);
  }

  .branch-name {
    background: #1B2333;
    color: var(--accent);
    padding: 4px 8px;
    border-radius: 4px;
    font-family: "Fira Code", monospace;
    font-size: 13px;
    display: flex;
    align-items: center;
    gap: 4px;
  }

  .branch-chevron {
    font-size: 10px;
    color: var(--sub);
    transition: transform 0.2s ease;
  }

  .dialog-footer {
    padding: 16px 24px 24px;
    display: flex;
    gap: 12px;
    justify-content: flex-end;
    border-top: 1px solid var(--muted);
  }

  .btn {
    padding: 10px 20px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    border: none;
    font-family: inherit;
  }

  .btn-secondary {
    background: transparent;
    color: var(--sub);
    border: 1px solid transparent;
  }

  .btn-secondary:hover {
    background: rgba(126, 141, 164, 0.1);
    color: var(--text);
    border-color: var(--muted);
  }

  .btn-primary {
    background: #0ea5e9;
    color: #0B1220;
    border: 1px solid #0ea5e9;
    font-weight: 600;
  }

  .btn-primary:hover {
    background: #0284c7;
    border-color: #0284c7;
  }

  .btn-primary:disabled {
    background: var(--muted);
    color: var(--sub);
    border-color: var(--muted);
    cursor: not-allowed;
  }

  /* 토스트 알림 스타일 */
  .toast-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1001;
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .toast {
    background: var(--panel);
    border: 1px solid var(--muted);
    border-radius: 8px;
    padding: 12px 16px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
    color: var(--text);
    transform: translateX(100%);
    transition: transform 0.3s ease;
  }

  .toast.show {
    transform: translateX(0);
  }

  .toast.success {
    border-color: var(--good);
    background: rgba(62, 235, 170, 0.1);
  }

  .toast.error {
    border-color: var(--bad);
    background: rgba(255, 107, 107, 0.1);
  }

  .toast-icon {
    font-size: 16px;
  }

  /* 로딩 스피너 */
  .spinner {
    display: inline-block;
    width: 16px;
    height: 16px;
    border: 2px solid transparent;
    border-top: 2px solid currentColor;
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  